{"remainingRequest":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\java\\idea\\myblog\\my-blog-ui\\src\\views\\service\\information\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\src\\views\\service\\information\\index.vue","mtime":1608965686013},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7DQogIGNoaW5hQXJlYUNpdHlTZWxlY3QsDQogIHNlbGVjdENoaWxkcmVuLA0KfSBmcm9tICdAL2FwaS9zZXJpdmNlL2NoaW5hJw0KDQppbXBvcnQgew0KICBhZGRFbnRlcnByaXNlLA0KfSBmcm9tICdAL2FwaS9zZXJpdmNlL2VudGVycHJpc2UnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkluZm9ybWF0aW9uIiwNCiAgZGF0YSgpew0KICAgIHJldHVybiB7DQogICAgICAvL+WQhOS4quecgeS7vQ0KICAgICAgcHJvdmluY2U6IHVuZGVmaW5lZCwNCiAgICAgIC8v55yB5Lu95a+55bqU55qE5Zyw57qn5biCDQogICAgICBwcmVmZWN0dXJlTGV2ZWxDaXR5OiB1bmRlZmluZWQsDQogICAgICAvL+WcsOe6p+W4guWvueW6lOeahOWfjuW4gg0KICAgICAgY2l0eTogdW5kZWZpbmVkLA0KICAgICAgZW50ZXJwcmlzZUZyb206IHsNCiAgICAgICAgLy/kvIHkuJrlkI3np7ANCiAgICAgICAgZW50ZXJwcmlzZU5hbWU6IHVuZGVmaW5lZCwNCiAgICAgICAgLy/kvIHkuJrmiYDlsZ7nnIHku70NCiAgICAgICAgcHJvdmluY2VJZDogdW5kZWZpbmVkLA0KICAgICAgICAvL+S8geS4muaJgOWxnuWcsOe6p+W4gg0KICAgICAgICBwcmVmZWN0dXJlTGV2ZWxDaXR5SWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgLy/kvIHkuJrmiYDlsZ7ljLrljr8NCiAgICAgICAgY2l0eUlkOiB1bmRlZmluZWQsDQogICAgICAgIC8v5LyB5Lia6K+m57uG5Zyw5Z2ADQogICAgICAgIGRldGFpbGVkQWRkcmVzczogdW5kZWZpbmVkLA0KICAgICAgICAvL+S8geS4muiBlOezu+S6ug0KICAgICAgICBsaW5rbWFuOiB1bmRlZmluZWQsDQogICAgICAgIC8v6IGU57O75Lq655S16K+dDQogICAgICAgIHBob25lOiB1bmRlZmluZWQsDQogICAgICB9LA0KICAgICAgLy/ooajljZXpqozor4ENCiAgICAgIHJ1bGVzOiB7DQogICAgICAgIGVudGVycHJpc2VOYW1lOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS8geS4muWQjeensOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBwcm92aW5jZUlkOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+mAieaLqeS8geS4muaJgOWcqOecgeS7vSIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBwcmVmZWN0dXJlTGV2ZWxDaXR5SWQ6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36YCJ5oup5LyB5Lia5omA5Zyo5Zyw57qn5biCIiwgdHJpZ2dlcjogImJsdXIiIH0sDQogICAgICAgIF0sDQogICAgICAgIGNpdHlJZDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLor7fpgInmi6nkvIHkuJrmiYDlnKjln47luIIiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgXSwNCiAgICAgICAgZGV0YWlsZWRBZGRyZXNzOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivpue7huWcsOWdgOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBsaW5rbWFuOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS8geS4muiBlOezu+S6uuS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LA0KICAgICAgICBdLA0KICAgICAgICBwaG9uZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLnlLXor53lj7fnoIHkuI3og73kuLrnqboiLCB0cmlnZ2VyOiAiYmx1ciIgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBwYXR0ZXJuOiAvXjFbM3w0fDV8Nnw3fDh8OV1bMC05XVxkezh9JC8sDQogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5q2j56Gu55qE5omL5py65Y+356CBIiwNCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIiwNCiAgICAgICAgICB9LA0KICAgICAgICBdDQogICAgICB9DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgICAgLyoqIOWKoOi9veWQhOS4quecgee6p+WfjuW4giAqLw0KICAgICAgdGhpcy5nZXRwcm92aW5jZSgpDQogICAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKiDojrflj5bmiYDmnInnmoTnnIHnuqfln47luIIgKi8NCiAgICBnZXRwcm92aW5jZSgpIHsNCiAgICAgIGNoaW5hQXJlYUNpdHlTZWxlY3QoKS50aGVuKCByZXMgPT4gew0KICAgICAgICB0aGlzLnByb3ZpbmNlID0gcmVzLmRhdGENCiAgICAgIH0pDQogICAgfSwNCiAgICAvKiog6YCJ5oup55yB5Lu9IOiOt+WPluivpeecgeS7veeuoei+lueahOWcsOe6p+WfjuW4giAqLw0KICAgIHNldHByZWZlY3R1cmVMZXZlbENpdHkodmFsKSB7DQogICAgICBzZWxlY3RDaGlsZHJlbih2YWwpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5wcmVmZWN0dXJlTGV2ZWxDaXR5ID0gcmVzLmRhdGENCiAgICAgICAgdGhpcy5lbnRlcnByaXNlRnJvbS5wcmVmZWN0dXJlTGV2ZWxDaXR5SWQgPSB0aGlzLnByZWZlY3R1cmVMZXZlbENpdHlbMF0uaWQNCiAgICAgICAgc2VsZWN0Q2hpbGRyZW4odGhpcy5lbnRlcnByaXNlRnJvbS5wcmVmZWN0dXJlTGV2ZWxDaXR5SWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICB0aGlzLmNpdHkgPSByZXMuZGF0YQ0KICAgICAgICAgIHRoaXMuZW50ZXJwcmlzZUZyb20uY2l0eUlkID0gKHRoaXMuY2l0eS5sZW5ndGggPiAwID8gdGhpcy5jaXR5WzBdLmlkIDogdW5kZWZpbmVkKQ0KICAgICAgICB9KQ0KICAgICAgfSkNCiAgICB9LA0KICAgIC8qKiDpgInmi6nlnLDnuqfluIIg6I635Y+W6K+l5Zyw57qn5biC566h6L6W55qE5Z+O5biCICovDQogICAgc2V0Y2l0eSh2YWwpIHsNCiAgICAgIHNlbGVjdENoaWxkcmVuKHZhbCkudGhlbihyZXMgPT4gew0KICAgICAgICB0aGlzLmNpdHkgPSByZXMuZGF0YQ0KICAgICAgICB0aGlzLmVudGVycHJpc2VGcm9tLmNpdHlJZCA9ICh0aGlzLmNpdHkubGVuZ3RoID4gMCA/IHRoaXMuY2l0eVswXS5pZCA6IHVuZGVmaW5lZCkNCiAgICAgIH0pDQogICAgfSwNCiAgICAvL+aWsOWinuS8geS4muS/oeaBrw0KICAgIHN1Ym1pdEZvcm0oKSB7DQogICAgICB0aGlzLiRyZWZzWydlbnRlcnByaXNlRnJvbSddLnZhbGlkYXRlKCh2YWxpZCkgPT4gew0KICAgICAgICBpZih2YWxpZCkgew0KICAgICAgICAgIGFkZEVudGVycHJpc2UodGhpcy5lbnRlcnByaXNlRnJvbSkudGhlbiggKHJlcykgPT4gew0KICAgICAgICAgICAgYWxlcnQoIuaWsOWinuaIkOWKnyIpDQogICAgICAgICAgICB0aGlzLnJlc2V0KCkNCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgLy/ph43nva7ooajljZXmlbDmja4NCiAgICByZXNldCgpIHsNCiAgICAgIHRoaXMuZW50ZXJwcmlzZUZyb20uZW50ZXJwcmlzZU5hbWUgPSB1bmRlZmluZWQNCiAgICAgIHRoaXMuZW50ZXJwcmlzZUZyb20ucHJvdmluY2VJZCA9IHVuZGVmaW5lZA0KICAgICAgdGhpcy5lbnRlcnByaXNlRnJvbS5wcmVmZWN0dXJlTGV2ZWxDaXR5SWQgPSB1bmRlZmluZWQNCiAgICAgIHRoaXMuZW50ZXJwcmlzZUZyb20uY2l0eUlkID0gdW5kZWZpbmVkDQogICAgICB0aGlzLmVudGVycHJpc2VGcm9tLmRldGFpbGVkQWRkcmVzcyA9IHVuZGVmaW5lZA0KICAgICAgdGhpcy5lbnRlcnByaXNlRnJvbS5saW5rbWFuID0gdW5kZWZpbmVkDQogICAgICB0aGlzLmVudGVycHJpc2VGcm9tLnBob25lID0gdW5kZWZpbmVkDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/service/information","sourcesContent":["<template>\r\n  <el-container class=\"app-container\">\r\n    <el-header>基本信息</el-header>\r\n    <el-main>\r\n      <el-form :model=\"enterpriseFrom\" ref=\"enterpriseFrom\" :rules=\"rules\" inline>\r\n        <el-form-item label=\"企业名称\" prop=\"enterpriseName\">\r\n          <el-input v-model=\"enterpriseFrom.enterpriseName\" placeholder=\"请输入企业名称\" style=\"width: 300px;\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"企业地址\">\r\n          <div class=\"block\">\r\n            <el-form-item prop=\"provinceId\" style=\"float:left;\">\r\n              <el-select v-model=\"enterpriseFrom.provinceId\" placeholder=\"请选择\"\r\n                  @change=\"setprefectureLevelCity\">\r\n                <el-option\r\n                  v-for=\"item in province\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item prop=\"prefectureLevelCityId\">\r\n              <el-select v-model=\"enterpriseFrom.prefectureLevelCityId\" placeholder=\"请选择\"\r\n              @change=\"setcity\">\r\n                <el-option\r\n                  v-for=\"item in prefectureLevelCity\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item prop=\"cityId\">\r\n              <el-select v-model=\"enterpriseFrom.cityId\" placeholder=\"请选择\">\r\n                <el-option\r\n                  v-for=\"item in city\"\r\n                  :key=\"item.id\"\r\n                  :label=\"item.name\"\r\n                  :value=\"item.id\">\r\n                </el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <span style=\"margin-left:20px;\"></span>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址\" prop=\"detailedAddress\">\r\n            <el-input\r\n              type=\"text\"\r\n              placeholder=\"请输入详细地址\"\r\n              style=\"width: 400px;\"\r\n              maxlength='40'\r\n              v-model=\"enterpriseFrom.detailedAddress\"\r\n              show-word-limit\r\n              ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人\" prop=\"linkman\">\r\n          <el-input\r\n            v-model=\"enterpriseFrom.linkman\"\r\n            placeholder=\"请输入联系人 \"\r\n            style=\"width: 300px;\"\r\n            >\r\n          </el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人电话\" prop=\"phone\">\r\n          <el-input\r\n            v-model=\"enterpriseFrom.phone\"\r\n            placeholder=\"请输入联系人电话\"\r\n            style=\"width: 300px;\"\r\n          >\r\n          </el-input>\r\n        </el-form-item>\r\n        <div style=\"text-align:center;\">\r\n          <el-form-item>\r\n              <el-button type=\"primary\" size=\"mini\" @click=\"submitForm\">保存</el-button>\r\n              <el-button size=\"mini\" @click=\"reset\">重置</el-button>\r\n          </el-form-item>\r\n        </div>\r\n      </el-form>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {\r\n  chinaAreaCitySelect,\r\n  selectChildren,\r\n} from '@/api/serivce/china'\r\n\r\nimport {\r\n  addEnterprise,\r\n} from '@/api/serivce/enterprise'\r\n\r\nexport default {\r\n  name: \"Information\",\r\n  data(){\r\n    return {\r\n      //各个省份\r\n      province: undefined,\r\n      //省份对应的地级市\r\n      prefectureLevelCity: undefined,\r\n      //地级市对应的城市\r\n      city: undefined,\r\n      enterpriseFrom: {\r\n        //企业名称\r\n        enterpriseName: undefined,\r\n        //企业所属省份\r\n        provinceId: undefined,\r\n        //企业所属地级市\r\n        prefectureLevelCityId: undefined,\r\n        //企业所属区县\r\n        cityId: undefined,\r\n        //企业详细地址\r\n        detailedAddress: undefined,\r\n        //企业联系人\r\n        linkman: undefined,\r\n        //联系人电话\r\n        phone: undefined,\r\n      },\r\n      //表单验证\r\n      rules: {\r\n        enterpriseName: [\r\n          { required: true, message: \"企业名称不能为空\", trigger: \"blur\" },\r\n        ],\r\n        provinceId: [\r\n          { required: true, message: \"请选择企业所在省份\", trigger: \"blur\" },\r\n        ],\r\n        prefectureLevelCityId: [\r\n          { required: true, message: \"请选择企业所在地级市\", trigger: \"blur\" },\r\n        ],\r\n        cityId: [\r\n          { required: true, message: \"请选择企业所在城市\", trigger: \"blur\" },\r\n        ],\r\n        detailedAddress: [\r\n          { required: true, message: \"详细地址不能为空\", trigger: \"blur\" },\r\n        ],\r\n        linkman: [\r\n          { required: true, message: \"企业联系人不能为空\", trigger: \"blur\" },\r\n        ],\r\n        phone: [\r\n          { required: true, message: \"电话号码不能为空\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^1[3|4|5|6|7|8|9][0-9]\\d{8}$/,\r\n            message: \"请输入正确的手机号码\",\r\n            trigger: \"blur\",\r\n          },\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n      /** 加载各个省级城市 */\r\n      this.getprovince()\r\n    },\r\n  methods: {\r\n    /** 获取所有的省级城市 */\r\n    getprovince() {\r\n      chinaAreaCitySelect().then( res => {\r\n        this.province = res.data\r\n      })\r\n    },\r\n    /** 选择省份 获取该省份管辖的地级城市 */\r\n    setprefectureLevelCity(val) {\r\n      selectChildren(val).then(res => {\r\n        this.prefectureLevelCity = res.data\r\n        this.enterpriseFrom.prefectureLevelCityId = this.prefectureLevelCity[0].id\r\n        selectChildren(this.enterpriseFrom.prefectureLevelCityId).then(res => {\r\n          this.city = res.data\r\n          this.enterpriseFrom.cityId = (this.city.length > 0 ? this.city[0].id : undefined)\r\n        })\r\n      })\r\n    },\r\n    /** 选择地级市 获取该地级市管辖的城市 */\r\n    setcity(val) {\r\n      selectChildren(val).then(res => {\r\n        this.city = res.data\r\n        this.enterpriseFrom.cityId = (this.city.length > 0 ? this.city[0].id : undefined)\r\n      })\r\n    },\r\n    //新增企业信息\r\n    submitForm() {\r\n      this.$refs['enterpriseFrom'].validate((valid) => {\r\n        if(valid) {\r\n          addEnterprise(this.enterpriseFrom).then( (res) => {\r\n            alert(\"新增成功\")\r\n            this.reset()\r\n          })\r\n        }\r\n      })\r\n    },\r\n    //重置表单数据\r\n    reset() {\r\n      this.enterpriseFrom.enterpriseName = undefined\r\n      this.enterpriseFrom.provinceId = undefined\r\n      this.enterpriseFrom.prefectureLevelCityId = undefined\r\n      this.enterpriseFrom.cityId = undefined\r\n      this.enterpriseFrom.detailedAddress = undefined\r\n      this.enterpriseFrom.linkman = undefined\r\n      this.enterpriseFrom.phone = undefined\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}