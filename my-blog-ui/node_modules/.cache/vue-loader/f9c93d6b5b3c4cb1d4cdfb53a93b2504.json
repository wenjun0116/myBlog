{"remainingRequest":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\code\\java\\idea\\myblog\\my-blog-ui\\src\\views\\service\\invoice\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\src\\views\\service\\invoice\\index.vue","mtime":1608965686017},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\code\\java\\idea\\myblog\\my-blog-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBnZXRJbnZvaWNlc0xpc3QsDQogIHF1ZXJ5SW52b2ljZVR5cGVBbGwsDQogIHF1ZXJ5SW52b2ljZVN0YXR1c0FsbA0KfSBmcm9tICdAL2FwaS9zZXJpdmNlL2ludm9pY2UnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkludm9pY2UiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvL+eUs+ivt+aXtumXtOaVsOe7hA0KICAgICAgZGF0ZVJhbmdlOiBbXSwNCiAgICAgIC8v6buY6K6k5p+l6K+i5YWo6YOoDQogICAgICBhY3RpdmVJbmRleDogJzEnLA0KICAgICAgLy8g6YGu572p5bGCDQogICAgICBsb2FkaW5nOiB0cnVlLA0KICAgICAgLy8g6YCJ5Lit5pWw57uEDQogICAgICBjb2RlczogW10sDQogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgNCiAgICAgIHNpbmdsZTogdHJ1ZSwNCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqA0KICAgICAgbXVsdGlwbGU6IHRydWUsDQogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YNCiAgICAgIHNob3dTZWFyY2g6IHRydWUsDQogICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgIHBhZ2VOdW06IDEsDQogICAgICAgIHBhZ2VTaXplOiAxLA0KICAgICAgICAvL+WPkeelqOexu+Wei0lEDQogICAgICAgIGludm9pY2VUeXBlSWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgLy/lj5HnpajnirbmgIENCiAgICAgICAgaW52b2ljZVN0YXR1c0lkOiB1bmRlZmluZWQsDQogICAgICAgIC8v5pCc57Si5YaF5a65DQogICAgICAgIHNlYXJjaFZhbHVlOiB1bmRlZmluZWQsDQogICAgICB9LA0KICAgICAgLy/lj5HnpajnsbvlnosNCiAgICAgIGludm9pY2VUSUQ6W10sDQogICAgICAvL+WPkeelqOeKtuaAgQ0KICAgICAgaW52b2ljZVNJRDpbXSwNCiAgICAgIC8v5Y+R56Wo6ZuG5ZCIDQogICAgICB0YWJsZURhdGE6W10sDQogICAgICAvL+WPkeelqOaAu+aVsOWxhQ0KICAgICAgdG90YWw6MCwNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgLy/liqDovb3lj5HnpajnsbvlnosNCiAgICBxdWVyeUludm9pY2VUeXBlQWxsKCkudGhlbiggcmVzID0+IHsNCiAgICAgIHRoaXMuaW52b2ljZVRJRCA9IHJlcy5kYXRhDQogICAgfSkNCiAgICAvL+WKoOi9veWPkeelqOeKtuaAgQ0KICAgIHF1ZXJ5SW52b2ljZVN0YXR1c0FsbCgpLnRoZW4oIHJlcyA9PiB7DQogICAgICB0aGlzLmludm9pY2VTSUQgPSByZXMuZGF0YQ0KICAgIH0pDQogICAgdGhpcy5nZXRMaXN0KCkNCiAgfSwNCiAgbWV0aG9kczp7DQogICAgLy8g6I635Y+W5Y+R56Wo5YiX6KGoDQogICAgZ2V0TGlzdCgpew0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgZ2V0SW52b2ljZXNMaXN0KHRoaXMuYWRkRGF0ZVJhbmdlKHRoaXMucXVlcnlQYXJhbXMsIHRoaXMuZGF0ZVJhbmdlKSkudGhlbiggcmVzID0+IHsNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXMucm93cw0KICAgICAgICB0aGlzLnRvdGFsID0gcmVzLnRvdGFsDQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICB9KQ0KICAgIH0sDQogICAgLyoqIOaQnOe0ouaTjeS9nOaMiemSriAqLw0KICAgIGhhbmRsZVF1ZXJ5KCkgew0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMQ0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9LA0KICAgIC8qKiDph43nva7mk43kvZzmjInpkq4gKi8NCiAgICByZXNldFF1ZXJ5KCkgew0KICAgICAgdGhpcy5kYXRlUmFuZ2UgPSBbXQ0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5pbnZvaWNlVHlwZUlkID0gdW5kZWZpbmVkDQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLmludm9pY2VTdGF0dXNJZCA9IHVuZGVmaW5lZA0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5zZWFyY2hWYWx1ZSA9IHVuZGVmaW5lZA0KICAgICAgdGhpcy5nZXRMaXN0KCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/service/invoice","sourcesContent":["<template>\r\n  <div class=\"app-container\">\r\n    <el-form :model=\"queryParams\" ref=\"queryForm\" v-show=\"showSearch\" :inline=\"true\">\r\n      <el-form-item label=\"申请时间\">\r\n        <div class=\"block\">\r\n          <el-date-picker v-model=\"dateRange\" size=\"small\" style=\"width: 240px\" value-format=\"yyyy-MM-dd\" type=\"daterange\" range-separator=\"-\" start-placeholder=\"开始日期\" end-placeholder=\"结束日期\"></el-date-picker>\r\n        </div>\r\n      </el-form-item>\r\n      <el-form-item label=\"发票类型\">\r\n        <el-select\r\n          v-model=\"queryParams.invoiceTypeId\"\r\n          clearable\r\n          size=\"small\"\r\n          style=\"width: 240px\" >\r\n          <el-option\r\n            v-for=\"invoicetype in invoiceTID\"\r\n            :key=\"invoicetype.invoiceTypeId\"\r\n            :label=\"invoicetype.invoiceTypeName\"\r\n            :value=\"invoicetype.invoiceTypeId\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"发票状态\">\r\n        <el-select\r\n          v-model=\"queryParams.invoiceStatusId\"\r\n          clearable\r\n          size=\"small\"\r\n          style=\"width: 240px\">\r\n          <el-option\r\n            v-for=\"invoicestatus in invoiceSID\"\r\n            :key=\"invoicestatus.invoiceStatusId\"\r\n            :label=\"invoicestatus.invoiceStatusName\"\r\n            :value=\"invoicestatus.invoiceStatusId\" />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"搜索\">\r\n        <el-input\r\n          v-model=\"queryParams.searchValue\"\r\n          placeholder=\"请输入搜索的关键字\"\r\n          clearable\r\n          size=\"small\"\r\n          style=\"width: 240px\"  />\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"cyan\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\r\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\r\n    <el-table :data=\"tableData\" v-loading=\"loading\" style=\"width: 100%\">\r\n      <el-table-column prop=\"createTime\" label=\"申请时间\"></el-table-column>\r\n\r\n      <el-table-column prop=\"invoiceId\" label=\"订单号\"></el-table-column>\r\n\r\n      <el-table-column prop=\"invoiceTypeName\" label=\"发票类型\"></el-table-column>\r\n\r\n      <el-table-column prop=\"invoiceTitle\" label=\"发票抬头\"></el-table-column>\r\n\r\n      <el-table-column prop=\"money\" label=\"发票金额\"></el-table-column>\r\n\r\n      <el-table-column prop=\"consigneeName\" label=\"申请用户\"></el-table-column>\r\n\r\n      <el-table-column prop=\"invoiceStatusName\" label=\"发票状态\"></el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <router-link :to=\"'/invoice/ticketInfo/' + scope.row.invoiceId\" v-has-permi=\"['service:invoice:look']\">\r\n            <el-button size=\"mini\" icon=\"el-icon-view\" type=\"text\">详情</el-button>\r\n          </router-link>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <div class=\"table-page\">\r\n      <pagination v-show=\"total > 0\" :total=\"total\" :page.sync=\"queryParams.pageNum\" :limit.sync=\"queryParams.pageSize\" @pagination=\"getList\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getInvoicesList,\r\n  queryInvoiceTypeAll,\r\n  queryInvoiceStatusAll\r\n} from '@/api/serivce/invoice'\r\n\r\nexport default {\r\n  name: \"Invoice\",\r\n  data() {\r\n    return {\r\n      //申请时间数组\r\n      dateRange: [],\r\n      //默认查询全部\r\n      activeIndex: '1',\r\n      // 遮罩层\r\n      loading: true,\r\n      // 选中数组\r\n      codes: [],\r\n      // 非单个禁用\r\n      single: true,\r\n      // 非多个禁用\r\n      multiple: true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 查询参数\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 1,\r\n        //发票类型ID\r\n        invoiceTypeId: undefined,\r\n        //发票状态\r\n        invoiceStatusId: undefined,\r\n        //搜索内容\r\n        searchValue: undefined,\r\n      },\r\n      //发票类型\r\n      invoiceTID:[],\r\n      //发票状态\r\n      invoiceSID:[],\r\n      //发票集合\r\n      tableData:[],\r\n      //发票总数居\r\n      total:0,\r\n    }\r\n  },\r\n  created() {\r\n    //加载发票类型\r\n    queryInvoiceTypeAll().then( res => {\r\n      this.invoiceTID = res.data\r\n    })\r\n    //加载发票状态\r\n    queryInvoiceStatusAll().then( res => {\r\n      this.invoiceSID = res.data\r\n    })\r\n    this.getList()\r\n  },\r\n  methods:{\r\n    // 获取发票列表\r\n    getList(){\r\n      this.loading = true\r\n      getInvoicesList(this.addDateRange(this.queryParams, this.dateRange)).then( res => {\r\n        this.tableData = res.rows\r\n        this.total = res.total\r\n        this.loading = false\r\n      })\r\n    },\r\n    /** 搜索操作按钮 */\r\n    handleQuery() {\r\n      this.queryParams.pageNum = 1\r\n      this.getList()\r\n    },\r\n    /** 重置操作按钮 */\r\n    resetQuery() {\r\n      this.dateRange = []\r\n      this.queryParams.invoiceTypeId = undefined\r\n      this.queryParams.invoiceStatusId = undefined\r\n      this.queryParams.searchValue = undefined\r\n      this.getList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n  .table-page{\r\n    text-align: center;\r\n  }\r\n\r\n</style>\r\n"]}]}